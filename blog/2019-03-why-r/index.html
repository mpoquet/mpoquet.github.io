
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Why I use R (2019-03) &#8212; Millian Poquet</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Miam" href="../../miam.html" />
    <link rel="prev" title="Repeatable notebook example (2020-02)" href="../2020-02-batsim-memory-usage-notebook/index.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
              <div class="related top">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../research.html">Research</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../teaching.html">Teaching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../jobs.html">Jobs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../blog.html">Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../miam.html">Miam</a></li>
</ul>

              </div>
          

          <div class="body" role="main">
            
  <section id="why-i-use-r-2019-03">
<h1>Why I use R (2019-03)<a class="headerlink" href="#why-i-use-r-2019-03" title="Permalink to this headline">¶</a></h1>
<p>As I love programming and know many different languages,
people are often surprised — to be polite — that I use <a class="reference external" href="https://en.wikipedia.org/wiki/R_(programming_language)">R</a> to analyze and visualize data.</p>
<p>The goal of this post is to explain why.</p>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#my-personal-history-with-r">My personal history with R</a> — AKA why I avoided R like plague for long</p></li>
<li><p><a class="reference internal" href="#main-mistakes-to-avoid-in-r">Main mistakes to avoid in R</a> — Quick list for those in a hurry</p></li>
<li><p><a class="reference internal" href="#showcase">Showcase</a> — Shows R’s potential conciseness, tunability and visualization output quality</p></li>
<li><p><a class="reference internal" href="#final-word">Final word</a> — Shameful propaganda on why you should think about using R</p></li>
</ol>
<section id="my-personal-history-with-r">
<h2>My personal history with R<a class="headerlink" href="#my-personal-history-with-r" title="Permalink to this headline">¶</a></h2>
<p>I have been confronted with R several times in college,
notably for statistics and machine learning classes.
These classes included an introduction to <strong>programming</strong> in R:
Concepts, syntax, data frames…
Here are the first impressions I had after such classes.</p>
<ul class="simple">
<li><p>WTF is this syntax?</p></li>
<li><p>Is it really so slow? Some benchmarks highlighted crazy performance drop (50+ times slower than C).</p></li>
</ul>
<p>My conclusion was simple at this time. <strong>Programming in R? No way.</strong>
I therefore used different technologies to analyze and visualize data for several years
such as Python’s (<a class="reference external" href="https://pandas.pydata.org/">pandas</a> + <a class="reference external" href="https://matplotlib.org/">matplotlib</a>), LaTeX’s <a class="reference external" href="http://pgfplots.sourceforge.net/">pgfplots</a>, <a class="reference external" href="http://www.gnuplot.info/">gnuplot</a>, <a class="reference external" href="https://www.libreoffice.org/discover/calc/">spreadsheet</a>…</p>
<p>But I completely changed my mind about R at the middle of my PhD.
The main reasons for me to go for R were the following.</p>
<ul class="simple">
<li><p>I needed to do a lot of data analysis and visualization at this time —
I was trying to gain insight about the behavior of some algorithms.</p></li>
<li><p>I felt that the technologies I used were limiting me.
I was mostly using Python at this time.
I felt that <a class="reference external" href="https://matplotlib.org/">matplotlib</a> was clearly too low-level for what I needed.
<a class="reference external" href="https://pandas.pydata.org/">pandas</a> gave nice wrappers around <a class="reference external" href="https://matplotlib.org/">matplotlib</a> in simple cases,
but tuning the visualization for advanced cases was tedious.</p></li>
<li><p>A <a class="reference external" href="http://mescal.imag.fr/membres/arnaud.legrand/">wise man</a> told me
“If you are <strong>programming</strong> in R, you are doing it wrong!
R is not a programming language, R is a tool to analyze and visualize data.”.</p></li>
<li><p>A <a class="reference external" href="http://www.inf.ufrgs.br/~schnorr/">R guru</a> showed me how <strong>expressive</strong>, <strong>tunable</strong> and <strong>powerful</strong>
R can be with the proper packages (<a class="reference external" href="https://www.tidyverse.org/">tidyverse</a>).
He also showed me how great R visualizations can look.</p></li>
</ul>
<p>Since then, I have been using R for most of my data analysis/visualization needs.</p>
</section>
<section id="main-mistakes-to-avoid-in-r">
<span id="main-mistakes-in-r"></span><h2>Main mistakes to avoid in R<a class="headerlink" href="#main-mistakes-to-avoid-in-r" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>Programming in R.</strong>
R can be a great tool to modify data and to analyze it.
But if you plan to compare your data to complex things —
mmh, let’s say, simulation data — do not implement your simulator in R.</p></li>
<li><p><strong>Using vanilla R.</strong>
R without packages is not worth the language flaws.
Especially, I think that without <a class="reference external" href="https://www.tidyverse.org/">tidyverse</a> I would not use R at all.
I therefore recommend to learn R+tidyverse rather than R alone.</p></li>
</ul>
</section>
<section id="showcase">
<span id="r-showcase"></span><h2>Showcase<a class="headerlink" href="#showcase" title="Permalink to this headline">¶</a></h2>
<p>First, we need data to analyze and visualize.
I found a <a class="reference external" href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a> dataset about Olympics results <a class="reference external" href="https://www.kaggle.com/heesoo37/120-years-of-olympic-history-athletes-and-results">there</a>,
let’s talk about sports today.
I generated a <a class="reference download internal" download="" href="../../_downloads/d5b8ed98f3edf8e6cb3e91e923487a83/athlete_events_subset.csv.gz"><code class="xref download docutils literal notranslate"><span class="pre">data</span> <span class="pre">subset</span></code></a> and hosted it here to make things easy.
Fun fact: While the original data has been gathered in R,
I also used R to create a subset of the data with the following script.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text"><a class="reference download internal" download="" href="../../_downloads/43eb5d6e98e4e1a280fb7e781ff5a788/generate-data-subset.R"><code class="xref download docutils literal notranslate"><span class="pre">generate-data-subset.R</span></code></a></span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read input data.</span>
<span class="n">data</span> <span class="o">=</span> <span class="nf">read_csv</span><span class="p">(</span><span class="n">args</span><span class="o">$</span><span class="s">&quot;&lt;INPUT-FILE&gt;&quot;</span><span class="p">)</span> <span class="o">%&gt;%</span>
    <span class="c1"># Apply some filters to only keep some entries.</span>
    <span class="c1"># Only keep entries about females, in Winter, since 2000.</span>
    <span class="nf">filter</span><span class="p">(</span><span class="n">Sex</span> <span class="o">==</span> <span class="s">&quot;F&quot;</span> <span class="o">&amp;</span> <span class="n">Season</span> <span class="o">==</span> <span class="s">&quot;Winter&quot;</span> <span class="o">&amp;</span> <span class="n">Year</span> <span class="o">&gt;=</span> <span class="m">2000</span><span class="p">)</span> <span class="o">%&gt;%</span>
    <span class="c1"># Save the filtered data in another file.</span>
    <span class="nf">write_csv</span><span class="p">(</span><span class="n">args</span><span class="o">$</span><span class="s">&quot;&lt;OUTPUT-FILE&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>From now on, I’ll assume that you have downloaded the
<a class="reference download internal" download="" href="../../_downloads/d5b8ed98f3edf8e6cb3e91e923487a83/athlete_events_subset.csv.gz"><code class="xref download docutils literal notranslate"><span class="pre">data</span> <span class="pre">subset</span></code></a>
in your <code class="docutils literal notranslate"><span class="pre">/tmp</span></code> directory.
What I usually do first with data is to load it (thanks, captain obvious) then
to print a summary about it. Vanilla R is very straightforward about this.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text"><a class="reference download internal" download="" href="../../_downloads/d05bceec865d3f68ea0414870b5edb91/analyze-data.R"><code class="xref download docutils literal notranslate"><span class="pre">analyze-data.R</span></code></a></span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&quot;/tmp/athlete_events_subset.csv.gz&quot;</span><span class="p">)</span>
<span class="nf">summary</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>And here is the output R printed.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>      ID                                               Name
Min.   :   126   Marit Bjrgen                            :  19
1st Qu.: 40736   Evi Sachenbacher-Stehle                 :  18
Median : 71120   Macarena Mara Simari Birkner            :  18
Mean   : 72159   Chimene Mary &quot;Chemmy&quot; Alcott (-Crawford):  17
3rd Qu.:105484   Teja Gregorin                           :  17
Max.   :135550   Andrea Henkel (-Burke)                  :  16
                 (Other)                                 :7104
   Sex               Age            Height        Weight
Mode :logical   Min.   :14.00   Min.   :146   Min.   :38.00
FALSE:7209      1st Qu.:22.00   1st Qu.:163   1st Qu.:55.00
                Median :25.00   Median :167   Median :60.00
                Mean   :25.25   Mean   :167   Mean   :60.46
                3rd Qu.:28.00   3rd Qu.:171   3rd Qu.:65.00
                Max.   :48.00   Max.   :194   Max.   :96.00
                                NA&#39;s   :23    NA&#39;s   :143
           Team           NOC               Games           Year
United States: 537   USA    : 576   2002 Winter:1582   Min.   :2002
Canada       : 502   CAN    : 533   2006 Winter:1757   1st Qu.:2006
Russia       : 460   RUS    : 491   2010 Winter:1847   Median :2010
Germany      : 440   GER    : 468   2014 Winter:2023   Mean   :2008
Italy        : 369   ITA    : 383                      3rd Qu.:2014
Japan        : 343   JPN    : 343                      Max.   :2014
(Other)      :4558   (Other):4415
   Season                 City                            Sport
Winter:7209   Salt Lake City:1582   Cross Country Skiing     :1419
              Sochi         :2023   Biathlon                 :1276
              Torino        :1757   Alpine Skiing            :1122
              Vancouver     :1847   Speed Skating            : 695
                                    Ice Hockey               : 634
                                    Short Track Speed Skating: 513
                                    (Other)                  :1550
                                       Event         Medal
Ice Hockey Women&#39;s Ice Hockey             : 634   Bronze: 309
Biathlon Women&#39;s 7.5 kilometres Sprint    : 329   Gold  : 315
Biathlon Women&#39;s 15 kilometres            : 322   Silver: 309
Alpine Skiing Women&#39;s Giant Slalom        : 305   NA&#39;s  :6276
Alpine Skiing Women&#39;s Slalom              : 304
Cross Country Skiing Women&#39;s 10 kilometres: 286
(Other)                                   :5029
</pre></div>
</div>
<p>This summary is an amazing starting point! It directly shows different things.</p>
<ul class="simple">
<li><p>Many columns have discrete values (Medal, Sport…).
You have a direct overview of the distribution of values for these columns.</p></li>
<li><p>Many columns have numeric values (Weight, Year…).
You have well-known descriptive statistics about each column.
You can directly check that Years of study are between 2002 and 2014 for example.</p></li>
</ul>
<p>Now that we know a little more about the data, we can directly start analyzing it.
This will be done thanks to <a class="reference external" href="https://www.tidyverse.org/">tidyverse</a> — <a class="reference external" href="https://dplyr.tidyverse.org/reference/index.html">dplyr</a> to do usual data manipulations
and <a class="reference external" href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a> to do visualization.
<strong>Question 1</strong>: Globally, which countries have won the highest number of gold medals?
The following R code explicitly computes it.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text"><a class="reference download internal" download="" href="../../_downloads/d05bceec865d3f68ea0414870b5edb91/analyze-data.R"><code class="xref download docutils literal notranslate"><span class="pre">analyze-data.R</span></code></a></span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="c1"># Globally, which countries have won the highest number of gold medals?</span>
<span class="n">gold_data</span> <span class="o">=</span> <span class="n">data</span> <span class="o">%&gt;%</span>
    <span class="nf">filter</span><span class="p">(</span><span class="n">Medal</span> <span class="o">==</span> <span class="s">&#39;Gold&#39;</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="c1"># Only keep entries about gold medals</span>
    <span class="nf">group_by</span><span class="p">(</span><span class="n">Team</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="c1"># Create a group for each country</span>
    <span class="nf">summarize</span><span class="p">(</span><span class="n">gold_count</span> <span class="o">=</span> <span class="nf">n</span><span class="p">())</span> <span class="o">%&gt;%</span> <span class="c1"># Count how many gold medals the country won.</span>
                                    <span class="c1"># Store it in a &quot;gold_count&quot; column.</span>
    <span class="nf">top_n</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="m">10</span><span class="p">,</span> <span class="n">wt</span><span class="o">=</span><span class="n">gold_count</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="c1"># Only keep top 10 countries.</span>
    <span class="nf">arrange</span><span class="p">(</span><span class="nf">desc</span><span class="p">(</span><span class="n">gold_count</span><span class="p">))</span> <span class="c1"># Sort the data by number of gold medals.</span>

<span class="c1"># Print what we just computed</span>
<span class="n">gold_data</span>
</pre></div>
</div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># A tibble: 10 x 2
   Team          gold_count
   &lt;fct&gt;              &lt;int&gt;
 1 Canada                97
 2 Germany               37
 3 Russia                22
 4 South Korea           21
 5 Sweden                17
 6 Norway                16
 7 China                 13
 8 United States         12
 9 Netherlands           10
10 Great Britain          7
</pre></div>
</div>
<p>Okay that’s nice. But visualizing it should be even nicer.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text"><a class="reference download internal" download="" href="../../_downloads/d05bceec865d3f68ea0414870b5edb91/analyze-data.R"><code class="xref download docutils literal notranslate"><span class="pre">analyze-data.R</span></code></a></span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualize this data</span>
<span class="nf">ggplot</span><span class="p">(</span><span class="n">gold_data</span><span class="p">)</span> <span class="o">+</span> <span class="c1"># Create a plot about gold_data</span>
    <span class="nf">geom_col</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Team</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">gold_count</span><span class="p">))</span> <span class="o">+</span> <span class="c1"># Add bar charts in the plot</span>
    <span class="nf">theme_bw</span><span class="p">()</span> <span class="o">+</span> <span class="c1"># Cosmetics for a black and white plot</span>
    <span class="nf">ggsave</span><span class="p">(</span><span class="s">&quot;./data/top-gold-countries-bc.png&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="m">10</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="m">5</span><span class="p">)</span> <span class="c1"># Save the plot in a file</span>
</pre></div>
</div>
</div>
<img alt="../../_images/top-gold-countries-bc.png" src="../../_images/top-gold-countries-bc.png" />
<p>Okay, we visualized something.
However, these operations may seem complex to obtain such a simple plot.
And indeed, the explicit computations can directly be done by ggplot in such cases.
The good thing with <a class="reference external" href="https://www.tidyverse.org/">tidyverse</a> is that doing way more complex plots does not require much more work
that what we did.
<strong>Question 2</strong>: Globally, how medals are distributed among the previous countries?</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text"><a class="reference download internal" download="" href="../../_downloads/d05bceec865d3f68ea0414870b5edb91/analyze-data.R"><code class="xref download docutils literal notranslate"><span class="pre">analyze-data.R</span></code></a></span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="c1"># Globally, how medals are distributed among the previous countries?</span>
<span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">%&gt;%</span>
        <span class="nf">filter</span><span class="p">(</span><span class="n">Team</span> <span class="o">%in%</span> <span class="n">gold_data</span><span class="o">$</span><span class="n">Team</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="c1"># Only keep entries from the selected countries.</span>
        <span class="nf">filter</span><span class="p">(</span><span class="n">Medal</span> <span class="o">%in%</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;Gold&#39;</span><span class="p">,</span> <span class="s">&#39;Silver&#39;</span><span class="p">,</span> <span class="s">&#39;Bronze&#39;</span><span class="p">)))</span> <span class="o">+</span> <span class="c1"># Only keep entries that got a medal.</span>
    <span class="nf">geom_bar</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Team</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">Medal</span><span class="p">))</span> <span class="o">+</span> <span class="c1"># Add an histogram (bar chart about distribution) in the plot</span>
    <span class="nf">scale_fill_manual</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;#824A02&quot;</span><span class="p">,</span> <span class="s">&quot;#FEE101&quot;</span><span class="p">,</span> <span class="s">&quot;#D7D7D7&quot;</span><span class="p">))</span> <span class="o">+</span> <span class="c1"># Custom colors</span>
    <span class="nf">theme_bw</span><span class="p">()</span> <span class="o">+</span>
    <span class="nf">ggsave</span><span class="p">(</span><span class="s">&quot;./data/top-medal-distribution.png&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="m">10</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="m">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<img alt="../../_images/top-medal-distribution.png" src="../../_images/top-medal-distribution.png" />
<p>Okay, 7 lines to get such a plot!
<strong>Question 3</strong>: How did the distribution of medals evolved over time for the global top 4 countries?</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text"><a class="reference download internal" download="" href="../../_downloads/d05bceec865d3f68ea0414870b5edb91/analyze-data.R"><code class="xref download docutils literal notranslate"><span class="pre">analyze-data.R</span></code></a></span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="c1"># How did the distribution of medals evolved over time for the global top 4 countries?</span>
<span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">%&gt;%</span>
        <span class="nf">filter</span><span class="p">(</span><span class="n">Team</span> <span class="o">%in%</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;Canada&#39;</span><span class="p">,</span> <span class="s">&#39;United States&#39;</span><span class="p">,</span> <span class="s">&#39;Germany&#39;</span><span class="p">,</span> <span class="s">&#39;Sweden&#39;</span><span class="p">))</span> <span class="o">%&gt;%</span> <span class="c1"># Only keep data for some countries</span>
        <span class="nf">filter</span><span class="p">(</span><span class="n">Medal</span> <span class="o">%in%</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#39;Gold&#39;</span><span class="p">,</span> <span class="s">&#39;Silver&#39;</span><span class="p">,</span> <span class="s">&#39;Bronze&#39;</span><span class="p">))</span> <span class="o">%&gt;%</span>
        <span class="nf">group_by</span><span class="p">(</span><span class="n">Team</span><span class="p">,</span> <span class="n">Medal</span><span class="p">,</span> <span class="n">Year</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="c1"># Create groups on tuples!</span>
        <span class="nf">summarize</span><span class="p">(</span><span class="n">count</span><span class="o">=</span><span class="nf">n</span><span class="p">()))</span> <span class="o">+</span> <span class="c1"># Compute a count for each group</span>
    <span class="nf">geom_line</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Year</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">count</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">Team</span><span class="p">))</span> <span class="o">+</span> <span class="c1"># Add lines</span>
    <span class="nf">facet_wrap</span><span class="p">(</span><span class="o">~</span> <span class="n">Medal</span><span class="p">)</span> <span class="o">+</span> <span class="c1"># Plot data of different Team on different facets</span>
    <span class="nf">scale_color_viridis</span><span class="p">(</span><span class="n">discrete</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span> <span class="o">+</span> <span class="c1"># colorblind-proof colors</span>
    <span class="nf">theme_bw</span><span class="p">()</span> <span class="o">+</span>
    <span class="nf">ggsave</span><span class="p">(</span><span class="s">&quot;./data/top-medals-over-time.png&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="m">10</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="m">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<img alt="../../_images/top-medals-over-time.png" src="../../_images/top-medals-over-time.png" />
<p>Okay, code looks very similar but the output plot is very different.
Here, we changed the <a class="reference external" href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a> function
(<code class="docutils literal notranslate"><span class="pre">geom_line</span></code> instead of <code class="docutils literal notranslate"><span class="pre">geom_bar</span></code>, to get lines instead of bars) and told it to separate data in facets.
On the <a class="reference external" href="https://dplyr.tidyverse.org/reference/index.html">dplyr</a> side, we told it to compute summaries per groups, just as we did in the first example.
Groups were just tuples of columns, instead of a single column.</p>
</section>
<section id="final-word">
<h2>Final word<a class="headerlink" href="#final-word" title="Permalink to this headline">¶</a></h2>
<p>I hope this example showed how <a class="reference external" href="https://en.wikipedia.org/wiki/R_(programming_language)">R</a> + <a class="reference external" href="https://www.tidyverse.org/">tidyverse</a> allows to quickly analyze your
data and to visualize it how you desire.</p>
<p>Once familiar with <a class="reference external" href="https://dplyr.tidyverse.org/reference/index.html">dplyr</a> and <a class="reference external" href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a>, you can easily plot your data in similar
ways and start thinking about how to visualize your data in the best possible way.
Before switching to <a class="reference external" href="https://en.wikipedia.org/wiki/R_(programming_language)">R</a> + <a class="reference external" href="https://www.tidyverse.org/">tidyverse</a>, I often resigned to keep the only solution
that I could make work after a reasonable amount of hours fighting against
hard-to-tune APIs — and I do believe this is what happened for many papers out there.</p>
<p>The API and data structures of the different libraries are consistent,
so you will not need to learn again what you already master.
Documentation of the different functions is quite good and filled with examples,
and finding an example close to what you want to achieve is usually straightforward
on sites similar to <a class="reference external" href="https://stackoverflow.com/">stackoverflow</a>.</p>
<p>This example focused on operations that are done all the time:
Filtering, grouping, sorting, computing summaries per group, plotting data,
plotting on different facets… <a class="reference external" href="https://www.tidyverse.org/">tidyverse</a> can do many other things,
such as reshaping your data (<a class="reference external" href="https://tidyr.tidyverse.org/">tidyr</a>), read data efficiency and safely
(<a class="reference external" href="https://readr.tidyverse.org/">readr</a>), have lots of fun with dates (<a class="reference external" href="https://lubridate.tidyverse.org/">lubridate</a>)…</p>
</section>
</section>


          </div>
          
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; Millian Poquet.
      License <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.
      Made with <a href="http://www.sphinx-doc.org/en/master/" rel="nofollow">Sphinx</a>
      (custom <a href="https://github.com/bitprophet/alabaster" rel="nofollow">Alabaster</a> theme).
      <a href="../../_sources/blog/2019-03-why-r/index.rst.txt"
          rel="nofollow">Page source</a>.
      <a href="https://github.com/mpoquet/mpoquet.github.io/tree/sphinx" rel="nofollow">Git<a/>.
    </div>
  </body>
</html>